<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Elm â€¢ TodoMVC</title>
    <script type="text/javascript" src="build/elm.js"></script>
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
      integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
      crossorigin="anonymous"
    />
  </head>

  <body></body>

  <script type="text/javascript">
    var storedState = localStorage.getItem("storage-save");
    var startingState = storedState ? JSON.parse(storedState) : null;
    var app = Elm.Main.init({ flags: startingState });
    app.ports.setStorage.subscribe(function(state) {
      localStorage.setItem("storage-save", JSON.stringify(state));
    });
  </script>
</html>
